# Development Environment Configuration
# Copy this file to terraform.tfvars and update with your values

# General Configuration
project_name = "task-management"
environment  = "dev"
owner        = "william-schweitzer"
aws_region   = "us-east-1"

# Networking Configuration
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.11.0/24", "10.0.12.0/24"]

# Database Configuration
db_instance_class    = "db.t3.micro"  # Free tier eligible
db_allocated_storage = 20              # Free tier: up to 20 GB
db_engine_version    = "15.4"
db_name              = "taskmanagement"
db_username          = "dbadmin"
# db_password = "CHANGE_ME"  # Use AWS Secrets Manager or environment variable

# Docker Images (update after pushing to ECR)
# auth_service_image = "123456789012.dkr.ecr.us-east-1.amazonaws.com/task-management-auth:latest"
# task_service_image = "123456789012.dkr.ecr.us-east-1.amazonaws.com/task-management-task:latest"
# kong_image         = "kong:3.4"

# Service Ports
auth_service_port = 8080
task_service_port = 8081
kong_proxy_port   = 8000

# ECS Task Resources (minimal for cost savings)
auth_service_cpu    = 256   # 0.25 vCPU
auth_service_memory = 512   # 0.5 GB
task_service_cpu    = 256   # 0.25 vCPU
task_service_memory = 512   # 0.5 GB
kong_cpu            = 256   # 0.25 vCPU
kong_memory         = 512   # 0.5 GB

# Security
# jwt_secret = "CHANGE_ME_TO_A_SECURE_RANDOM_STRING"  # Use AWS Secrets Manager or environment variable

# SSL Certificate (optional, leave empty for HTTP only)
certificate_arn = ""  # Add your ACM certificate ARN for HTTPS

# Monitoring
enable_detailed_monitoring = false
log_retention_days         = 7

# Cost Optimization Notes:
# - Using db.t3.micro for free tier eligibility (750 hours/month)
# - Minimal ECS task resources (free tier: 600 vCPU hours, 1200 GB hours/month)
# - Public subnets to avoid NAT Gateway costs (~$32/month savings)
# - Short log retention (7 days) to minimize storage costs
